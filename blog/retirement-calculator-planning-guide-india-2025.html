<!DOCTYPE html>
<html lang="en-IN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Retirement Calculator India 2025 | Plan SIP or Lumpsum Corpus | CalculateForMe</title>
  <meta name="description" content="Free retirement calculator for India 2025. Estimate your corpus, required SIP or lump-sum, adjust for inflation, EPF, and gratuity. Start planning smartly today!">
  <link rel="canonical" href="https://calculateforme.xyz/blog/retirement-calculator-planning-guide-india-2025">
  <link rel="icon" href="https://calculateforme.xyz/favicon.png">
  <meta name="keywords" content="retirement calculator india 2025, retirement corpus calculator, sip calculator, lumpsum calculator, inflation, EPF, gratuity, CalculateForMe">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#0d6efd">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Retirement Calculator India 2025 | Plan SIP or Lumpsum Corpus | CalculateForMe">
  <meta property="og:description" content="Free retirement calculator for India 2025. Estimate your corpus, required SIP or lump-sum, adjust for inflation, EPF, and gratuity. Start planning smartly today!">
  <meta property="og:url" content="https://calculateforme.xyz/blog/retirement-calculator-planning-guide-india-2025">
  <meta property="og:site_name" content="CalculateForMe">
  <meta property="og:image" content="https://calculateforme.xyz/images/retirement-calculator-guide.jpg">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Retirement Calculator India 2025 | Plan SIP or Lumpsum Corpus | CalculateForMe">
  <meta name="twitter:description" content="Free retirement calculator for India 2025. Estimate your corpus, required SIP or lump-sum, adjust for inflation, EPF, and gratuity. Start planning smartly today!">
  <meta name="twitter:image" content="https://calculateforme.xyz/images/retirement-calculator-guide.jpg">

  <!-- JSON-LD: WebPage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Retirement Calculator India 2025 | Plan SIP or Lumpsum Corpus | CalculateForMe",
    "url": "https://calculateforme.xyz/blog/retirement-calculator-planning-guide-india-2025",
    "description": "Free retirement calculator for India 2025. Estimate your corpus, required SIP or lump-sum, adjust for inflation, EPF, and gratuity.",
    "inLanguage": "en-IN",
    "isPartOf": {
      "@type": "WebSite",
      "name": "CalculateForMe",
      "url": "https://calculateforme.xyz"
    }
  }
  </script>

  <!-- JSON-LD: BreadcrumbList -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {"@type":"ListItem","position":1,"name":"Home","item":"https://calculateforme.xyz"},
      {"@type":"ListItem","position":2,"name":"Blog","item":"https://calculateforme.xyz/blog.html"},
      {"@type":"ListItem","position":3,"name":"Retirement Calculator India 2025","item":"https://calculateforme.xyz/blog/retirement-calculator-planning-guide-india-2025"}
    ]
  }
  </script>

  <!-- JSON-LD: FAQPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {
        "@type":"Question",
        "name":"How much money do I need to retire in India?",
        "acceptedAnswer":{"@type":"Answer","text":"A common rule is 25â€“30Ã— your annual expenses at retirement. For example, if youâ€™ll need â‚¹12 lakh/year in retirement, target â‚¹3â€“3.6 crore, adjusted for inflation and post-retirement returns."}
      },
      {
        "@type":"Question",
        "name":"Why start retirement planning early?",
        "acceptedAnswer":{"@type":"Answer","text":"Starting early leverages compounding. A small SIP started in your 20s can beat a much larger SIP started in your 30s or 40s for the same goal."}
      },
      {
        "@type":"Question",
        "name":"How to build a retirement corpus with mutual funds?",
        "acceptedAnswer":{"@type":"Answer","text":"Use equity mutual fund SIPs for long horizons (10â€“25 years) and gradually shift to debt near retirement. Review annually and top-up SIPs by ~5%."}
      },
      {
        "@type":"Question",
        "name":"Are mutual funds good for retirement?",
        "acceptedAnswer":{"@type":"Answer","text":"For long-term goals, equity funds help beat inflation. Combine with debt funds for stability and follow a glide path as you near retirement."}
      },
      {
        "@type":"Question",
        "name":"What is a safe withdrawal rate?",
        "acceptedAnswer":{"@type":"Answer","text":"A 3.5â€“4% initial withdrawal rate, adjusted for inflation annually, is a conservative starting point, assuming balanced post-retirement investing."}
      },
      {
        "@type":"Question",
        "name":"How can I adjust my plan if inflation rises?",
        "acceptedAnswer":{"@type":"Answer","text":"Increase the inflation input, recalculate the corpus, and raise contributions (or extend working years). Keep some equity exposure post-retirement to combat inflation."}
      }
    ]
  }
  </script>
</head>
<body>
  <!-- Sticky Nav -->
  <header class="nav" role="banner">
    <div class="wrap nav-row">
      <a class="brand" href="#" aria-label="CalculateForMe Home">CalculateForMe</a>
      <nav aria-label="Primary">
        <a href="#calculator">Calculator</a>
        <a href="#results">Results</a>
        <a href="#concepts">Concepts</a>
        <a href="#faqs">FAQs</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" role="region" aria-label="Intro">
    <div class="wrap">
      <h1>Retirement Calculator India 2025</h1>
      <p>Estimate your retirement corpus, required SIP, or lump-sum in minutes. India-focused, inflation-adjusted, EPF/gratuity ready.</p>
      <div class="cta-row">
        <a class="btn btn-primary" href="#" aria-label="Start a SIP">Start a SIP</a>
        <a class="btn btn-secondary" href="#" aria-label="Compare SIP vs Lumpsum">Compare SIP vs Lumpsum</a>
      </div>
    </div>
  </section>

  <!-- Calculator -->
  <section id="calculator" class="card wrap" role="form" aria-label="Retirement calculator">
    <h2 class="card-title">Plan Your Retirement</h2>

    <!-- Toggles -->
    <div class="grid grid-2">
      <div>
        <label class="lbl">Lifestyle Goal</label>
        <div class="seg" role="tablist" aria-label="Lifestyle Goal">
          <input type="radio" name="life" id="life-happy" class="seg-input" value="1" checked>
          <label for="life-happy" class="seg-btn" role="tab" aria-selected="true" aria-controls="calculator">Happy</label>

          <input type="radio" name="life" id="life-king" class="seg-input" value="1.2">
          <label for="life-king" class="seg-btn" role="tab" aria-selected="false" aria-controls="calculator">King</label>

          <input type="radio" name="life" id="life-monk" class="seg-input" value="0.8">
          <label for="life-monk" class="seg-btn" role="tab" aria-selected="false" aria-controls="calculator">Monk</label>
        </div>
      </div>

      <div>
        <label class="lbl">Risk Style</label>
        <div class="seg" role="tablist" aria-label="Risk Style">
          <input type="radio" name="risk" id="risk-balanced" class="seg-input" value="balanced" checked>
          <label for="risk-balanced" class="seg-btn" role="tab" aria-selected="true" aria-controls="calculator">Balanced</label>

          <input type="radio" name="risk" id="risk-safe" class="seg-input" value="safe">
          <label for="risk-safe" class="seg-btn" role="tab" aria-selected="false" aria-controls="calculator">Safe</label>

          <input type="radio" name="risk" id="risk-aggr" class="seg-input" value="aggressive">
          <label for="risk-aggr" class="seg-btn" role="tab" aria-selected="false" aria-controls="calculator">Aggressive</label>
        </div>
      </div>
    </div>

    <!-- Inputs -->
    <div class="grid grid-3">
      <div class="field">
        <label for="currentAge">Current Age</label>
        <input id="currentAge" type="number" inputmode="numeric" min="18" max="70" value="30" aria-label="Current Age">
      </div>
      <div class="field">
        <label for="retirementAge">Retirement Age</label>
        <input id="retirementAge" type="number" inputmode="numeric" min="40" max="70" value="60" aria-label="Retirement Age">
      </div>
      <div class="field">
        <label for="lifeExpectancy">Life Expectancy</label>
        <input id="lifeExpectancy" type="number" inputmode="numeric" min="60" max="100" value="85" aria-label="Life Expectancy">
      </div>

      <div class="field">
        <label for="monthlyExpenseToday">Monthly Expense Today (â‚¹)</label>
        <input id="monthlyExpenseToday" type="number" inputmode="decimal" min="0" step="100" value="50000" aria-label="Monthly Expense Today in rupees">
      </div>
      <div class="field">
        <label for="expenseReductionPct">Expense Reduction in Retirement (%)</label>
        <input id="expenseReductionPct" type="number" inputmode="decimal" min="0" max="80" step="1" value="20" aria-label="Expected expense reduction percentage">
      </div>
      <div class="field">
        <label for="inflationPct">Inflation (%)</label>
        <input id="inflationPct" type="number" inputmode="decimal" min="0" max="15" step="0.25" value="6" aria-label="Inflation percent">
      </div>

      <div class="field">
        <label for="preRetReturnPct">Pre-Retirement Return (%)</label>
        <input id="preRetReturnPct" type="number" inputmode="decimal" min="0" max="20" step="0.25" value="10" aria-label="Pre-retirement returns percent">
      </div>
      <div class="field">
        <label for="postRetReturnPct">Post-Retirement Return (%)</label>
        <input id="postRetReturnPct" type="number" inputmode="decimal" min="0" max="15" step="0.25" value="7" aria-label="Post-retirement returns percent">
      </div>
      <div class="field">
        <label for="currentSavings">Current Retirement Savings (â‚¹)</label>
        <input id="currentSavings" type="number" inputmode="decimal" min="0" step="1000" value="500000" aria-label="Current retirement savings in rupees">
      </div>

      <div class="field">
        <label for="epfGratuity">EPF + Gratuity at Retirement (â‚¹)</label>
        <input id="epfGratuity" type="number" inputmode="decimal" min="0" step="10000" value="1000000" aria-label="EPF and gratuity expected in rupees">
      </div>
      <div class="field">
        <label for="optionalMonthlySIP">Optional: Current Monthly SIP (â‚¹)</label>
        <input id="optionalMonthlySIP" type="number" inputmode="decimal" min="0" step="500" value="" aria-label="Optional current monthly SIP in rupees" placeholder="e.g., 10000">
      </div>
    </div>

    <div class="actions">
      <button id="btnCalc" class="btn btn-primary" type="button">Calculate</button>
      <button id="btnReset" class="btn btn-ghost" type="button">Reset</button>
    </div>
  </section>

  <!-- Results -->
  <section id="results" class="wrap card" role="region" aria-label="Results">
    <div class="tabs" role="tablist" aria-label="Return Scenarios">
      <button class="tab is-active" role="tab" aria-selected="true" aria-controls="panel-6" data-rate="6">6%</button>
      <button class="tab" role="tab" aria-selected="false" aria-controls="panel-9" data-rate="9">9%</button>
      <button class="tab" role="tab" aria-selected="false" aria-controls="panel-12" data-rate="12">12%</button>
    </div>

    <div id="results-live" aria-live="polite" class="sr-only"></div>

    <div id="panels">
      <div id="panel-6" class="panel is-active" role="tabpanel" tabindex="0">
        <h3>Scenario: 6% Pre-Retirement Growth</h3>
        <div class="grid grid-3 stat">
          <div><div class="k">Retirement Corpus Needed</div><div id="p6-corpus" class="v">â€”</div><div class="bar"><span id="p6-bar"></span></div></div>
          <div><div class="k">Required Monthly SIP</div><div id="p6-sip" class="v">â€”</div></div>
          <div><div class="k">Lumpsum Needed Now</div><div id="p6-lumpsum" class="v">â€”</div></div>
        </div>
        <p id="p6-msg" class="insight">â€”</p>
      </div>

      <div id="panel-9" class="panel" role="tabpanel" tabindex="0" hidden>
        <h3>Scenario: 9% Pre-Retirement Growth</h3>
        <div class="grid grid-3 stat">
          <div><div class="k">Retirement Corpus Needed</div><div id="p9-corpus" class="v">â€”</div><div class="bar"><span id="p9-bar"></span></div></div>
          <div><div class="k">Required Monthly SIP</div><div id="p9-sip" class="v">â€”</div></div>
          <div><div class="k">Lumpsum Needed Now</div><div id="p9-lumpsum" class="v">â€”</div></div>
        </div>
        <p id="p9-msg" class="insight">â€”</p>
      </div>

      <div id="panel-12" class="panel" role="tabpanel" tabindex="0" hidden>
        <h3>Scenario: 12% Pre-Retirement Growth</h3>
        <div class="grid grid-3 stat">
          <div><div class="k">Retirement Corpus Needed</div><div id="p12-corpus" class="v">â€”</div><div class="bar"><span id="p12-bar"></span></div></div>
          <div><div class="k">Required Monthly SIP</div><div id="p12-sip" class="v">â€”</div></div>
          <div><div class="k">Lumpsum Needed Now</div><div id="p12-lumpsum" class="v">â€”</div></div>
        </div>
        <p id="p12-msg" class="insight">â€”</p>
      </div>
    </div>

    <div class="btn-row">
      <a class="btn btn-ghost" href="#" aria-label="Open SIP Calculator">SIP Calculator</a>
      <a class="btn btn-ghost" href="#" aria-label="Open Lumpsum Calculator">Lumpsum Calculator</a>
      <a class="btn btn-ghost" href="#" aria-label="Open SWP Planner">SWP Planner</a>
    </div>

    <div class="cta-row">
      <a class="btn btn-primary" href="#" aria-label="Start a SIP">Start a SIP</a>
      <a class="btn btn-secondary" href="#" aria-label="Compare SIP vs Lumpsum">Compare SIP vs Lumpsum</a>
      <a class="btn btn-outline" href="#" aria-label="Talk to an Advisor">Talk to an Advisor</a>
    </div>
  </section>

  <!-- Concepts -->
  <section id="concepts" class="wrap card" role="region" aria-label="Concepts">
    <h2 class="card-title">Key Concepts</h2>

    <div class="concept">
      <h3>1) How Inflation Affects Your Retirement Corpus in India</h3>
      <p>Inflation compounds over decades. A â‚¹50,000 monthly expense today can exceed â‚¹2 lakh/month by retirement at ~6% inflation.</p>
      <ul>
        <li>Model both pre- and post-retirement inflation.</li>
        <li>Use equity for long horizons to outpace inflation.</li>
      </ul>
    </div>

    <div class="concept">
      <h3>2) Including EPF &amp; Gratuity in Your Plan</h3>
      <p>EPF and gratuity reduce the corpus you must build via SIP or lump-sum.</p>
      <ul>
        <li>Estimate EPF corpus and gratuity at retirement.</li>
        <li>Subtract these from the target corpus (net gap).</li>
      </ul>
    </div>

    <div class="concept">
      <h3>3) Post-Retirement Returns vs Inflation and the 4% Rule</h3>
      <p>Keep some equity exposure after retirement. A conservative 3.5â€“4% initial withdrawal rate, inflation-adjusted, is a prudent baseline.</p>
      <ul>
        <li>Match risk to horizon and cash flow needs.</li>
        <li>Review allocation annually.</li>
      </ul>
    </div>

    <div class="concept">
      <h3>4) SIP vs Lumpsum â€” Which Works Better?</h3>
      <p>SIP smooths volatility and enforces discipline; lump-sum is optimal when money is already available and risk tolerance permits.</p>
      <ul>
        <li>Time in market beats timing the market.</li>
        <li>Use both: SIP for salary flows, lump-sum for bonuses.</li>
      </ul>
    </div>

    <div class="concept">
      <h3>5) Choose Your Style: SAFE vs AGGRESSIVE Investing</h3>
      <p>Style sets expected returns and drawdown comfort.</p>
      <ul>
        <li>Safe: More debt; lower variance, lower returns.</li>
        <li>Aggressive: More equity; higher variance, higher returns.</li>
      </ul>
    </div>

    <div class="concept">
      <h3>6) Recalculate Annually and Top-up SIP by ~5%</h3>
      <p>Income grows, goals evolve. A 5% annual SIP top-up drastically improves outcomes without large lifestyle changes.</p>
      <ul>
        <li>Revisit inflation, returns, and savings rate yearly.</li>
        <li>Track progress vs target corpus.</li>
      </ul>
    </div>
  </section>

  <!-- CTA Banner -->
  <section class="wrap cta-banner" role="region" aria-label="Final call to action">
    <div>
      <h2>Ready to Start?</h2>
      <p>Lock in your plan and take action today.</p>
    </div>
    <div class="cta-row">
      <a class="btn btn-primary" href="#" aria-label="Start a SIP">Start a SIP</a>
      <a class="btn btn-secondary" href="#" aria-label="Compare Plans">Compare Plans</a>
    </div>
  </section>

  <!-- FAQs -->
  <section id="faqs" class="wrap card" role="region" aria-label="FAQs">
    <h2 class="card-title">Frequently Asked Questions</h2>

    <details>
      <summary>How much money do I need to retire in India?</summary>
      <p>Target 25â€“30Ã— annual expenses at retirement, adjusted for inflation and expected post-retirement returns.</p>
    </details>
    <details>
      <summary>Why start retirement planning early?</summary>
      <p>Compounding accelerates growth. Starting a decade earlier can slash the SIP needed for the same corpus.</p>
    </details>
    <details>
      <summary>How to build a retirement corpus with mutual funds?</summary>
      <p>Use equity SIPs for growth, debt funds for stability, and shift gradually as retirement nears. Rebalance annually.</p>
    </details>
    <details>
      <summary>Are mutual funds good for retirement?</summary>
      <p>For 10â€“25 year horizons, equity funds help beat inflation. Combine with debt for a balanced, smoother path.</p>
    </details>
    <details>
      <summary>What is a safe withdrawal rate?</summary>
      <p>Start at 3.5â€“4% of the corpus in year one, then adjust for inflation annually, reviewing market conditions.</p>
    </details>
    <details>
      <summary>How can I adjust my plan if inflation rises?</summary>
      <p>Raise the inflation input, recalc the corpus, increase SIPs (or extend working years), and keep some equity exposure.</p>
    </details>
  </section>

  <!-- Related Tools -->
  <section class="wrap card" role="region" aria-label="Related tools">
    <h2 class="card-title">More Tools from CalculateForMe</h2>
    <div class="links">
      <a href="#">SIP Calculator</a>
      <a href="#">Lumpsum Return Calculator</a>
      <a href="#">SWP Planner</a>
      <a href="#">Inflation Calculator</a>
      <a href="#">Goal SIP Planner</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="wrap">
      <p class="note">Note: Inflation assumptions reference RBI MPC target range (~4â€“6%). Returns are illustrative, not guaranteed.</p>
      <p id="yearLine">Â© <span id="yr"></span> CalculateForMe</p>
    </div>
  <p class="privacy-note">ðŸ”’ All calculations happen locally in your browser. No data ever leaves your device.</p>
<div class="trust-badges"><p>âœ… Data processed locally | ðŸ§® Verified formulas | ðŸ•’ Last updated: November 2025 | ðŸ“„ Transparent formulas</p></div>
</footer>

  <!-- Styles (inline, below content) -->
  <style>
    :root{
      --bg:#ffffff;--text:#1f2937;--muted:#6b7280;--line:#e5e7eb;
      --primary:#0d6efd;--primary-600:#0b5ed7;--secondary:#20c997;--secondary-600:#17b287;
      --card:#ffffff;--shadow:0 8px 24px rgba(0,0,0,.08);
      --radius:12px;--radius-sm:8px;--radius-lg:16px;--wrap:1100px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:400 16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    a{color:var(--primary);text-decoration:none}
    .wrap{max-width:var(--wrap);margin:0 auto;padding:0 16px}
    .nav{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--line)}
    .nav-row{display:flex;align-items:center;justify-content:space-between;height:56px}
    .brand{font-weight:700;color:var(--primary)}
    .nav a{margin-left:16px;color:#334155}
    .hero{padding:32px 0 16px;background:linear-gradient(135deg,#f8fbff,#f6fff9)}
    .hero h1{margin:0 0 8px;font-size:clamp(24px,4vw,36px)}
    .hero p{margin:0 0 16px;color:var(--muted)}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap}
    .btn{display:inline-block;border-radius:999px;padding:10px 18px;font-weight:600;border:1px solid transparent;transition:all .15s ease}
    .btn-primary{background:var(--primary);color:#fff}
    .btn-primary:hover{background:var(--primary-600)}
    .btn-secondary{background:var(--secondary);color:#063;}
    .btn-secondary:hover{background:var(--secondary-600);color:#053}
    .btn-outline{border-color:var(--primary);color:var(--primary);background:#fff}
    .btn-outline:hover{background:#eff6ff}
    .btn-ghost{border-color:var(--line);color:#111;background:#fff}
    .btn-ghost:hover{background:#f8fafc}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;margin:24px auto}
    .card-title{margin:0 0 8px}
    .grid{display:grid;gap:12px}
    .grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    .grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media(max-width:900px){.grid-3{grid-template-columns:1fr}.grid-2{grid-template-columns:1fr}}
    .lbl{display:block;margin:0 0 8px;color:#334155;font-weight:600}
    .seg{display:inline-grid;grid-auto-flow:column;gap:6px;background:#f8fafc;border:1px solid var(--line);padding:6px;border-radius:999px}
    .seg-input{display:none}
    .seg-btn{padding:8px 12px;border-radius:999px;border:1px solid transparent;cursor:pointer;user-select:none}
    .seg-input:checked + .seg-btn{background:#fff;border-color:var(--primary);color:var(--primary);font-weight:700}
    .field label{display:block;font-weight:600;margin:0 0 6px}
    .field input{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px;outline:none}
    .field input:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(13,110,253,.12)}
    .actions{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap}
    .tabs{display:flex;gap:8px;margin:-12px 0 12px}
    .tab{background:#f8fafc;border:1px solid var(--line);padding:8px 12px;border-radius:999px;color:#334155;cursor:pointer}
    .tab.is-active{background:var(--primary);color:#fff;border-color:var(--primary)}
    .panel{margin-top:8px}
    .panel[hidden]{display:none}
    .stat .k{color:#64748b;font-size:13px}
    .stat .v{font-size:20px;font-weight:700;margin:4px 0}
    .bar{height:8px;background:#f1f5f9;border-radius:999px;overflow:hidden}
    .bar span{display:block;height:100%;background:linear-gradient(90deg,#0d6efd,#20c997)}
    .btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .concept + .concept{margin-top:8px}
    .cta-banner{display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#e7f1ff,#e7fff6);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px;margin:24px auto}
    @media(max-width:700px){.cta-banner{flex-direction:column;align-items:flex-start;gap:10px}}
    .links{display:flex;flex-wrap:wrap;gap:14px}
    .links a{padding:8px 12px;border:1px solid var(--line);border-radius:8px}
    .footer{border-top:1px solid var(--line);padding:20px 0;color:#475569}
    .note{margin:0 0 6px;color:#64748b}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>

  <!-- Scripts (vanilla JS only) -->
  <script>
  (function(){
    "use strict";

    // Helpers
    const $ = (id) => document.getElementById(id);
    const nfINR = new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',maximumFractionDigits:0});
    const fmt = (n) => nfINR.format(Math.max(0, Math.round(n||0)));
    const clamp = (v, min, max) => Math.min(Math.max(v, min), max);
    const pow = Math.pow;

    function parseNum(v){ const n = parseFloat(String(v).replace(/,/g,'')); return isFinite(n) ? n : 0; }

    // Inputs
    const ids = [
      "currentAge","retirementAge","lifeExpectancy","monthlyExpenseToday","expenseReductionPct",
      "inflationPct","preRetReturnPct","postRetReturnPct","currentSavings","epfGratuity","optionalMonthlySIP"
    ];
    const el = Object.fromEntries(ids.map(id => [id, $(id)]));

    // Toggles
    const lifeRadios = Array.from(document.querySelectorAll('input[name="life"]'));
    const riskRadios = Array.from(document.querySelectorAll('input[name="risk"]'));

    // Tabs
    const tabBtns = Array.from(document.querySelectorAll('.tab'));
    const panels = {
      6: { corpus: $("p6-corpus"), sip: $("p6-sip"), lump: $("p6-lumpsum"), msg: $("p6-msg"), bar: $("p6-bar"), panel: $("panel-6") },
      9: { corpus: $("p9-corpus"), sip: $("p9-sip"), lump: $("p9-lumpsum"), msg: $("p9-msg"), bar: $("p9-bar"), panel: $("panel-9") },
      12:{ corpus: $("p12-corpus"),sip: $("p12-sip"),lump: $("p12-lumpsum"),msg: $("p12-msg"),bar: $("p12-bar"),panel: $("panel-12") }
    };

    // Defaults & interactions
    function applyRiskDefaults(val){
      // Set pre/post returns by style
      let pre=10, post=7;
      if(val==="safe"){ pre=8; post=6; }
      if(val==="aggressive"){ pre=12; post=8; }
      el.preRetReturnPct.value = pre;
      el.postRetReturnPct.value = post;
    }

    riskRadios.forEach(r=>{
      r.addEventListener('change', ()=>{
        if(r.checked){ applyRiskDefaults(r.value); recalc(); }
      });
    });

    lifeRadios.forEach(r=>{
      r.addEventListener('change', recalc);
    });

    // Tabs behavior
    tabBtns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        // update button states
        tabBtns.forEach(b=>{ b.classList.remove('is-active'); b.setAttribute('aria-selected','false'); });
        btn.classList.add('is-active');
        btn.setAttribute('aria-selected','true');

        const rate = btn.getAttribute('data-rate');
        Object.values(panels).forEach(p=>{ p.panel.hidden = true; p.panel.classList.remove('is-active'); });
        panels[rate].panel.hidden = false; panels[rate].panel.classList.add('is-active');
        panels[rate].panel.focus({preventScroll:false});
      });
    });

    // Reset
    $("btnReset").addEventListener('click', ()=>{
      // Base defaults
      el.currentAge.value = 30;
      el.retirementAge.value = 60;
      el.lifeExpectancy.value = 85;
      el.monthlyExpenseToday.value = 50000;
      el.expenseReductionPct.value = 20;
      el.inflationPct.value = 6;
      el.currentSavings.value = 500000;
      el.epfGratuity.value = 1000000;
      el.optionalMonthlySIP.value = "";

      // Toggles
      $("life-happy").checked = true;
      $("risk-balanced").checked = true;
      applyRiskDefaults('balanced');

      // Tabs reset to first
      tabBtns.forEach((b,i)=>{ b.classList.toggle('is-active', i===0); b.setAttribute('aria-selected', i===0? 'true':'false'); });
      Object.entries(panels).forEach(([k,p],i)=>{ p.panel.hidden = i!==0; p.panel.classList.toggle('is-active', i===0); });

      recalc();
    });

    // Debounce input recalculation
    let tId; const debounce = (fn,ms)=>()=>{ clearTimeout(tId); tId=setTimeout(fn,ms); };
    const debounced = debounce(recalc, 200);
    ids.forEach(id => el[id].addEventListener('input', debounced));
    $("btnCalc").addEventListener('click', recalc);

    function activeLifestyleMultiplier(){
      const r = lifeRadios.find(x=>x.checked);
      return r ? parseNum(r.value) : 1;
    }

    function recalc(){
      // Validate & coerce
      const currentAge = clamp(parseNum(el.currentAge.value), 18, 70);
      const retirementAge = clamp(parseNum(el.retirementAge.value), 40, 75);
      const lifeExpectancy = clamp(parseNum(el.lifeExpectancy.value), retirementAge+1, 105);

      el.currentAge.value = currentAge;
      el.retirementAge.value = retirementAge;
      el.lifeExpectancy.value = lifeExpectancy;

      // Derive
      let yearsToRetire = Math.max(0, Math.floor(retirementAge - currentAge));
      let yearsInRet = Math.max(1, Math.floor(lifeExpectancy - retirementAge));

      const monthlyExpenseToday = Math.max(0, parseNum(el.monthlyExpenseToday.value));
      const expRed = clamp(parseNum(el.expenseReductionPct.value)/100, 0, 0.8);
      const infl = Math.max(0, parseNum(el.inflationPct.value)/100);
      const preRet = Math.max(0, parseNum(el.preRetReturnPct.value)/100);
      const postRet = Math.max(0, parseNum(el.postRetReturnPct.value)/100);
      const currSav = Math.max(0, parseNum(el.currentSavings.value));
      const epf = Math.max(0, parseNum(el.epfGratuity.value));
      const optSip = Math.max(0, parseNum(el.optionalMonthlySIP.value||"0"));

      const lifeMult = activeLifestyleMultiplier();

      // Expense projection at retirement
      const monthlyExpenseAtRet = monthlyExpenseToday * pow(1+infl, yearsToRetire);
      const monthlyExpenseAdj = monthlyExpenseAtRet * (1 - expRed) * lifeMult;

      // Real monthly rate (post-ret vs inflation)
      const mPost = postRet/12, mInfl = infl/12;
      let mReal = ((1 + mPost) / (1 + mInfl)) - 1;

      // Corpus needed as PV of real annuity of monthlyExpenseAdj over retirement months
      const nMonthsRet = 12 * yearsInRet;
      let corpusNeeded;
      if (Math.abs(mReal) < 1e-9){
        corpusNeeded = monthlyExpenseAdj * nMonthsRet; // approx when real rate ~ 0
      } else {
        corpusNeeded = monthlyExpenseAdj * (1 - pow(1 + mReal, -nMonthsRet)) / mReal;
      }

      // Net gap after current savings and EPF/gratuity
      const gapCorpus = Math.max(0, corpusNeeded - currSav - epf);

      // Scenarios for SIP & lump-sum using pre-retirement rates 6/9/12%
      const rates = [6,9,12];
      const nMonthsSave = 12 * Math.max(0, yearsToRetire);

      const out = {};
      let maxLump = 0;

      rates.forEach(rp=>{
        const r = rp/100;
        const m = Math.pow(1+r, 1/12) - 1;

        let sipReq = 0, lumpReq = 0;

        if (nMonthsSave <= 0){
          // If retiring now or past, SIP horizon zero -> need lump-sum equal to gap
          sipReq = 0;
          lumpReq = gapCorpus; 
        } else {
          const factor = Math.pow(1+m, nMonthsSave) - 1;
          sipReq = factor <= 0 ? gapCorpus / nMonthsSave : (gapCorpus * m) / factor;
          lumpReq = gapCorpus / Math.pow(1+m, nMonthsSave);
        }

        out[rp] = { sip: sipReq, lump: lumpReq };
        maxLump = Math.max(maxLump, lumpReq);
      });

      // Optional current SIP progression (project value at preRet rate)
      let projFromOptSip = 0;
      if (optSip > 0 && nMonthsSave > 0){
        const mPre = preRet/12;
        const fv = optSip * ( (Math.pow(1+mPre, nMonthsSave) - 1) / mPre ) * (1 + mPre);
        projFromOptSip = fv;
      }

      // Write outputs
      const setScenario = (rateKey, nodes)=>{
        nodes.corpus.textContent = fmt(corpusNeeded);
        nodes.sip.textContent = fmt(out[rateKey].sip);
        nodes.lump.textContent = fmt(out[rateKey].lump);
        if(nodes.bar){
          const pct = maxLump>0 ? Math.round((out[rateKey].lump/maxLump)*100) : 0;
          nodes.bar.style.width = pct + '%';
        }

        const msgParts = [];
        if (optSip>0){
          msgParts.push(`At ${rateKey}%, your current SIP could grow to ${fmt(projFromOptSip)} by retirement.`);
          const gapLeft = Math.max(0, gapCorpus - projFromOptSip);
          msgParts.push(gapLeft>0 ? `Gap after current SIP: ${fmt(gapLeft)}.` : `You may already be on track.` );
        } else {
          msgParts.push(`Tip: Top-up SIP ~5% yearly to improve outcomes.`);
        }
        nodes.msg.textContent = msgParts.join(' ');
      };

      setScenario(6, panels[6]);
      setScenario(9, panels[9]);
      setScenario(12, panels[12]);

      // ARIA live
      $("results-live").textContent = `Calculated corpus ${fmt(corpusNeeded)}. SIP needed at 9%: ${fmt(out[9].sip)}.`;

    } // recalc

    // Init
    applyRiskDefaults('balanced');
    recalc();

    // Footer year
    const y = new Date().getFullYear();
    $("yr").textContent = y;
    $("yearLine").setAttribute('aria-label', `Copyright ${y}`);
  })();
  </script>
</body>
</html>

